[{"action":"SET_STATE_SCHEMA","input":{"scope":"global","schema":"type DaoState { id: OID! name: String description: String createdAt: DateTime! proposalIds: [OID!]! taskIds: [OID!]! }"}},{"action":"ADD_OPERATION","input":{"name":"ADD_DAO","description":"Create a DAO registry entry.","inputSchema":"input AddDaoInput { id: OID! name: String description: String createdAt: DateTime! }","module":"main"}},{"action":"ADD_OPERATION","input":{"name":"SET_DAO_META","description":"Update DAO metadata.","inputSchema":"input SetDaoMetaInput { id: OID! name: String description: String }","module":"main"}},{"action":"ADD_OPERATION_ERROR","input":{"operation":"ADD_DAO","code":"DUPLICATE_ID","name":"DuplicateIdError","description":"A DAO with the provided id already exists."}}]
[{"action":"SET_STATE_SCHEMA","input":{"scope":"global","schema":"type DaoState { id: OID! name: String description: String createdAt: DateTime! proposalIds: [OID!]! taskIds: [OID!]! }"}},{"action":"ADD_OPERATION","input":{"name":"ADD_DAO","description":"Create a DAO registry entry.","inputSchema":"input AddDaoInput { id: OID! name: String description: String createdAt: DateTime! }","module":"main"}},{"action":"SET_OPERATION_REDUCER","input":{"operation":"ADD_DAO","reducer":"// ADD_DAO reducer\nif (state.id) {\n  throw new DuplicateIdError(`DAO with id ${action.input.id} already exists`);\n}\nstate.id = action.input.id;\nstate.name = action.input.name || null;\nstate.description = action.input.description || null;\nstate.createdAt = action.input.createdAt;\nstate.proposalIds = [];\nstate.taskIds = [];\n"}}},{"action":"ADD_OPERATION","input":{"name":"SET_DAO_META","description":"Update DAO metadata.","inputSchema":"input SetDaoMetaInput { id: OID! name: String description: String }","module":"main"}},{"action":"SET_OPERATION_REDUCER","input":{"operation":"SET_DAO_META","reducer":"// SET_DAO_META reducer\nif (!state.id || state.id !== action.input.id) {\n  throw new EntityNotFoundError(`DAO ${action.input.id} not found`);\n}\nif (action.input.name !== undefined) state.name = action.input.name;\nif (action.input.description !== undefined) state.description = action.input.description;\n"}}},{"action":"ADD_OPERATION_ERROR","input":{"operation":"ADD_DAO","code":"DUPLICATE_ID","name":"DuplicateIdError","description":"A DAO with the provided id already exists."}}]
